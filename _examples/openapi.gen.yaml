# example v0.0.1 9814b024890e4f9bf0fb6406686c29bcc402b24a
# --
# Code generated by webrpc-gen@v0.25.0 with ../ generator; DO NOT EDIT
# 
# webrpc-gen -schema=./proto.ridl -target=../ -out=./openapi.gen.yaml -title=Example webrpc API -apiVersion=v22.11.8 -serverUrl=https://api.example.com -serverDescription=Production -securityAnnotation=@auth -securitySchemes={               'ApiKeyAuth': {                 'type': 'apiKey',                 'in': 'header',                 'description': 'Project access key for authenticating requests',                 'name': 'X-Access-Key'               },               'ServiceAuth': {                 'type': 'apiKey',                 'in': 'header',                 'description': 'Project access key for authenticating requests',                 'name': 'X-Access-Key'               }             }
openapi: 3.0.0
info:
  title: 'Example webrpc API'
  version: 'v22.11.8'
servers:
  - url: 'https://api.example.com'
    description: 'Production'
components:
  securitySchemes: {               'ApiKeyAuth': {                 'type': 'apiKey',                 'in': 'header',                 'description': 'Project access key for authenticating requests',                 'name': 'X-Access-Key'               },               'ServiceAuth': {                 'type': 'apiKey',                 'in': 'header',                 'description': 'Project access key for authenticating requests',                 'name': 'X-Access-Key'               }             }
  schemas:
    ErrorWebrpcEndpoint:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcEndpoint"
        code:
          type: number
          example: 0
        msg:
          type: string
          example: "endpoint error"
        cause:
          type: string
        status:
          type: number
          example: 400
    ErrorWebrpcRequestFailed:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcRequestFailed"
        code:
          type: number
          example: -1
        msg:
          type: string
          example: "request failed"
        cause:
          type: string
        status:
          type: number
          example: 400
    ErrorWebrpcBadRoute:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcBadRoute"
        code:
          type: number
          example: -2
        msg:
          type: string
          example: "bad route"
        cause:
          type: string
        status:
          type: number
          example: 404
    ErrorWebrpcBadMethod:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcBadMethod"
        code:
          type: number
          example: -3
        msg:
          type: string
          example: "bad method"
        cause:
          type: string
        status:
          type: number
          example: 405
    ErrorWebrpcBadRequest:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcBadRequest"
        code:
          type: number
          example: -4
        msg:
          type: string
          example: "bad request"
        cause:
          type: string
        status:
          type: number
          example: 400
    ErrorWebrpcBadResponse:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcBadResponse"
        code:
          type: number
          example: -5
        msg:
          type: string
          example: "bad response"
        cause:
          type: string
        status:
          type: number
          example: 500
    ErrorWebrpcServerPanic:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcServerPanic"
        code:
          type: number
          example: -6
        msg:
          type: string
          example: "server panic"
        cause:
          type: string
        status:
          type: number
          example: 500
    ErrorWebrpcInternalError:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcInternalError"
        code:
          type: number
          example: -7
        msg:
          type: string
          example: "internal error"
        cause:
          type: string
        status:
          type: number
          example: 500
    ErrorWebrpcClientDisconnected:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcClientDisconnected"
        code:
          type: number
          example: -8
        msg:
          type: string
          example: "client disconnected"
        cause:
          type: string
        status:
          type: number
          example: 400
    ErrorWebrpcStreamLost:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcStreamLost"
        code:
          type: number
          example: -9
        msg:
          type: string
          example: "stream lost"
        cause:
          type: string
        status:
          type: number
          example: 400
    ErrorWebrpcStreamFinished:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "WebrpcStreamFinished"
        code:
          type: number
          example: -10
        msg:
          type: string
          example: "stream finished"
        cause:
          type: string
        status:
          type: number
          example: 200
    ErrorRateLimited:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "RateLimited"
        code:
          type: number
          example: 100
        msg:
          type: string
          example: "too many requests"
        cause:
          type: string
        status:
          type: number
          example: 429
    ErrorDatabaseDown:
      type: object
      required:
        - error
        - code
        - msg
        - status
      properties:
        error:
          type: string
          example: "DatabaseDown"
        code:
          type: number
          example: 101
        msg:
          type: string
          example: "service outage"
        cause:
          type: string
        status:
          type: number
          example: 503
    Kind:
      type: string
      description: Represented as uint32 on the server side
      enum:
        - USER
        - ADMIN
    User:
      type: object
      required:
        - id
        - username
        - role
      properties:
        id:
          type: number
        username:
          type: string
        role:
          type: string
    SearchFilter:
      type: object
      required:
        - q
      properties:
        q:
          type: string
        active:
          type: boolean
    Version:
      type: object
      required:
        - webrpcVersion
        - schemaVersion
        - schemaHash
      properties:
        webrpcVersion:
          type: string
        schemaVersion:
          type: string
        schemaHash:
          type: string
    ComplexType:
      type: object
      required:
        - meta
        - metaNestedExample
        - namesList
        - numsList
        - doubleArray
        - listOfMaps
        - listOfUsers
        - mapOfUsers
        - user
      properties:
        meta:
          type: object
          description: 'map<string,any>'
          additionalProperties:
            type: object
        metaNestedExample:
          type: object
          description: 'map<string,map<string,uint32>>'
          additionalProperties:
            type: object
            description: 'map<string,uint32>'
            additionalProperties:
              type: number
        namesList:
          type: array
          description: '[]string'
          items:
            type: string
        numsList:
          type: array
          description: '[]int64'
          items:
            type: number
        doubleArray:
          type: array
          description: '[][]string'
          items:
            type: array
            description: '[]string'
            items:
              type: string
        listOfMaps:
          type: array
          description: '[]map<string,uint32>'
          items:
            type: object
            description: 'map<string,uint32>'
            additionalProperties:
              type: number
        listOfUsers:
          type: array
          description: '[]User'
          items:
            $ref: '#/components/schemas/User'
        mapOfUsers:
          type: object
          description: 'map<string,User>'
          additionalProperties:
            $ref: '#/components/schemas/User'
        user:
          $ref: '#/components/schemas/User'
    Optional:
      type: object
      properties:
        name:
          type: string
        email:
          type: string
    ExampleService_Ping_Request:
      type: object
    ExampleService_GetUser_Request:
      type: object
      properties:
        header:
          type: object
          description: 'map<string,string>'
          additionalProperties:
            type: string
        userID:
          type: number
    ExampleService_GetUserV2_Request:
      type: object
      properties:
        header:
          type: object
          description: 'map<string,string>'
          additionalProperties:
            type: string
        userID:
          type: number
    ExampleService_FindUser_Request:
      type: object
      properties:
        s:
          $ref: '#/components/schemas/SearchFilter'
    ExampleService_ListUsers_Request:
      type: object
    ExampleService_GetComplex_Request:
      type: object
    ExampleService_GetAllOptional_Request:
      type: object
    ExampleService_Ping_Response:
      type: object
    ExampleService_GetUser_Response:
      type: object
      properties:
        code:
          type: number
        user:
          $ref: '#/components/schemas/User'
    ExampleService_GetUserV2_Response:
      type: object
      properties:
        code:
          type: number
        user:
          $ref: '#/components/schemas/User'
        profilePicture:
          type: string
    ExampleService_FindUser_Response:
      type: object
      properties:
        name:
          type: string
        user:
          $ref: '#/components/schemas/User'
    ExampleService_ListUsers_Response:
      type: object
      properties:
        users:
          type: array
          description: '[]User'
          items:
            $ref: '#/components/schemas/User'
    ExampleService_GetComplex_Response:
      type: object
      properties:
        complex:
          $ref: '#/components/schemas/ComplexType'
    ExampleService_GetAllOptional_Response:
      type: object
      properties:
        optional:
          $ref: '#/components/schemas/Optional'
    AdminService_ListUsers_Request:
      type: object
    AdminService_ListUsers_Response:
      type: object
      properties:
        users:
          type: array
          description: '[]User'
          items:
            $ref: '#/components/schemas/User'

paths:
  /rpc/ExampleService/Ping:
    post:
      operationId: ExampleServicePing
      tags: ["ExampleService"]
      summary: "Deprecated."
      deprecated: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExampleService_Ping_Request'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExampleService_Ping_Response'
        '4XX':
          description: Client error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcEndpoint'
                - $ref: '#/components/schemas/ErrorWebrpcRequestFailed'
                - $ref: '#/components/schemas/ErrorWebrpcBadRoute'
                - $ref: '#/components/schemas/ErrorWebrpcBadMethod'
                - $ref: '#/components/schemas/ErrorWebrpcBadRequest'
                - $ref: '#/components/schemas/ErrorWebrpcClientDisconnected'
                - $ref: '#/components/schemas/ErrorWebrpcStreamLost'
                - $ref: '#/components/schemas/ErrorRateLimited'
        '5XX':
          description: Server error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcBadResponse'
                - $ref: '#/components/schemas/ErrorWebrpcServerPanic'
                - $ref: '#/components/schemas/ErrorWebrpcInternalError'
                - $ref: '#/components/schemas/ErrorDatabaseDown'
  /rpc/ExampleService/GetUser:
    post:
      operationId: ExampleServiceGetUser
      tags: ["ExampleService"]
      summary: "Deprecated: Use GetUserV2 instead."
      deprecated: true
      security:
          - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExampleService_GetUser_Request'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExampleService_GetUser_Response'
        '4XX':
          description: Client error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcEndpoint'
                - $ref: '#/components/schemas/ErrorWebrpcRequestFailed'
                - $ref: '#/components/schemas/ErrorWebrpcBadRoute'
                - $ref: '#/components/schemas/ErrorWebrpcBadMethod'
                - $ref: '#/components/schemas/ErrorWebrpcBadRequest'
                - $ref: '#/components/schemas/ErrorWebrpcClientDisconnected'
                - $ref: '#/components/schemas/ErrorWebrpcStreamLost'
                - $ref: '#/components/schemas/ErrorRateLimited'
        '5XX':
          description: Server error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcBadResponse'
                - $ref: '#/components/schemas/ErrorWebrpcServerPanic'
                - $ref: '#/components/schemas/ErrorWebrpcInternalError'
                - $ref: '#/components/schemas/ErrorDatabaseDown'
  /rpc/ExampleService/GetUserV2:
    post:
      operationId: ExampleServiceGetUserV2
      tags: ["ExampleService"]
      summary: "GetUserV2 returns user based on given userID."
      security:
          - JWT: []
      description: |
        Replaces GetUser endpoint.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExampleService_GetUserV2_Request'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExampleService_GetUserV2_Response'
        '4XX':
          description: Client error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcEndpoint'
                - $ref: '#/components/schemas/ErrorWebrpcRequestFailed'
                - $ref: '#/components/schemas/ErrorWebrpcBadRoute'
                - $ref: '#/components/schemas/ErrorWebrpcBadMethod'
                - $ref: '#/components/schemas/ErrorWebrpcBadRequest'
                - $ref: '#/components/schemas/ErrorWebrpcClientDisconnected'
                - $ref: '#/components/schemas/ErrorWebrpcStreamLost'
                - $ref: '#/components/schemas/ErrorRateLimited'
        '5XX':
          description: Server error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcBadResponse'
                - $ref: '#/components/schemas/ErrorWebrpcServerPanic'
                - $ref: '#/components/schemas/ErrorWebrpcInternalError'
                - $ref: '#/components/schemas/ErrorDatabaseDown'
  /rpc/ExampleService/FindUser:
    post:
      operationId: ExampleServiceFindUser
      tags: ["ExampleService"]
      summary: "FindUser searches for a user using the given search filter."
      security:
          - JWT: []
      description: |
        
        The filters are q (string) and active (bool).
        
        The minimal length of the "q" filter is 3 characters.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExampleService_FindUser_Request'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExampleService_FindUser_Response'
        '4XX':
          description: Client error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcEndpoint'
                - $ref: '#/components/schemas/ErrorWebrpcRequestFailed'
                - $ref: '#/components/schemas/ErrorWebrpcBadRoute'
                - $ref: '#/components/schemas/ErrorWebrpcBadMethod'
                - $ref: '#/components/schemas/ErrorWebrpcBadRequest'
                - $ref: '#/components/schemas/ErrorWebrpcClientDisconnected'
                - $ref: '#/components/schemas/ErrorWebrpcStreamLost'
                - $ref: '#/components/schemas/ErrorRateLimited'
        '5XX':
          description: Server error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcBadResponse'
                - $ref: '#/components/schemas/ErrorWebrpcServerPanic'
                - $ref: '#/components/schemas/ErrorWebrpcInternalError'
                - $ref: '#/components/schemas/ErrorDatabaseDown'
  /rpc/ExampleService/ListUsers:
    post:
      operationId: ExampleServiceListUsers
      tags: ["ExampleService"]
      summary: "ListUsers returns all users."
      security:
          - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExampleService_ListUsers_Request'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExampleService_ListUsers_Response'
        '4XX':
          description: Client error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcEndpoint'
                - $ref: '#/components/schemas/ErrorWebrpcRequestFailed'
                - $ref: '#/components/schemas/ErrorWebrpcBadRoute'
                - $ref: '#/components/schemas/ErrorWebrpcBadMethod'
                - $ref: '#/components/schemas/ErrorWebrpcBadRequest'
                - $ref: '#/components/schemas/ErrorWebrpcClientDisconnected'
                - $ref: '#/components/schemas/ErrorWebrpcStreamLost'
                - $ref: '#/components/schemas/ErrorRateLimited'
        '5XX':
          description: Server error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcBadResponse'
                - $ref: '#/components/schemas/ErrorWebrpcServerPanic'
                - $ref: '#/components/schemas/ErrorWebrpcInternalError'
                - $ref: '#/components/schemas/ErrorDatabaseDown'
  /rpc/ExampleService/GetComplex:
    post:
      operationId: ExampleServiceGetComplex
      tags: ["ExampleService"]
      summary: ""
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExampleService_GetComplex_Request'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExampleService_GetComplex_Response'
        '4XX':
          description: Client error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcEndpoint'
                - $ref: '#/components/schemas/ErrorWebrpcRequestFailed'
                - $ref: '#/components/schemas/ErrorWebrpcBadRoute'
                - $ref: '#/components/schemas/ErrorWebrpcBadMethod'
                - $ref: '#/components/schemas/ErrorWebrpcBadRequest'
                - $ref: '#/components/schemas/ErrorWebrpcClientDisconnected'
                - $ref: '#/components/schemas/ErrorWebrpcStreamLost'
                - $ref: '#/components/schemas/ErrorRateLimited'
        '5XX':
          description: Server error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcBadResponse'
                - $ref: '#/components/schemas/ErrorWebrpcServerPanic'
                - $ref: '#/components/schemas/ErrorWebrpcInternalError'
                - $ref: '#/components/schemas/ErrorDatabaseDown'
  /rpc/ExampleService/GetAllOptional:
    post:
      operationId: ExampleServiceGetAllOptional
      tags: ["ExampleService"]
      summary: ""
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExampleService_GetAllOptional_Request'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExampleService_GetAllOptional_Response'
        '4XX':
          description: Client error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcEndpoint'
                - $ref: '#/components/schemas/ErrorWebrpcRequestFailed'
                - $ref: '#/components/schemas/ErrorWebrpcBadRoute'
                - $ref: '#/components/schemas/ErrorWebrpcBadMethod'
                - $ref: '#/components/schemas/ErrorWebrpcBadRequest'
                - $ref: '#/components/schemas/ErrorWebrpcClientDisconnected'
                - $ref: '#/components/schemas/ErrorWebrpcStreamLost'
                - $ref: '#/components/schemas/ErrorRateLimited'
        '5XX':
          description: Server error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcBadResponse'
                - $ref: '#/components/schemas/ErrorWebrpcServerPanic'
                - $ref: '#/components/schemas/ErrorWebrpcInternalError'
                - $ref: '#/components/schemas/ErrorDatabaseDown'
  /rpc/AdminService/ListUsers:
    post:
      operationId: AdminServiceListUsers
      tags: ["AdminService"]
      summary: ""
      security:
          - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdminService_ListUsers_Request'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminService_ListUsers_Response'
        '4XX':
          description: Client error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcEndpoint'
                - $ref: '#/components/schemas/ErrorWebrpcRequestFailed'
                - $ref: '#/components/schemas/ErrorWebrpcBadRoute'
                - $ref: '#/components/schemas/ErrorWebrpcBadMethod'
                - $ref: '#/components/schemas/ErrorWebrpcBadRequest'
                - $ref: '#/components/schemas/ErrorWebrpcClientDisconnected'
                - $ref: '#/components/schemas/ErrorWebrpcStreamLost'
                - $ref: '#/components/schemas/ErrorRateLimited'
        '5XX':
          description: Server error
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ErrorWebrpcBadResponse'
                - $ref: '#/components/schemas/ErrorWebrpcServerPanic'
                - $ref: '#/components/schemas/ErrorWebrpcInternalError'
                - $ref: '#/components/schemas/ErrorDatabaseDown'